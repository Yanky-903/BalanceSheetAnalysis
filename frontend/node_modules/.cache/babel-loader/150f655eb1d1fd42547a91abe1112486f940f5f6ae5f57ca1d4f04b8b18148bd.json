{"ast":null,"code":"var _jsxFileName = \"/Users/sakina/balance-assistant/frontend/src/components/Login.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/components/Login.jsx\nimport React, { useState } from \"react\";\nimport { login } from \"../api\";\nimport \"./Login.css\"; // make sure this file exists (below)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login({\n  onLogin\n}) {\n  _s();\n  const [email, setEmail] = useState(\"analyst@example.com\");\n  const [password, setPassword] = useState(\"analystpass\");\n  const [err, setErr] = useState(null);\n  const [loading, setLoading] = useState(false);\n  async function doLogin() {\n    setErr(null);\n    setLoading(true);\n    try {\n      // api.login may return axios response or plain object depending on your api implementation.\n      // We handle both forms gracefully.\n      const r = await login(email, password);\n      // try common shapes: r.data.access_token or r.access_token or r?.data?.access_token\n      const token = r && r.data && r.data.access_token || r && r.access_token || r && r.data && r.data.token || null;\n      if (!token) {\n        var _r$data;\n        // maybe the login helper returned the parsed object itself\n        const fallbackToken = (r === null || r === void 0 ? void 0 : r.access_token) || (r === null || r === void 0 ? void 0 : (_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.access_token) || null;\n        if (!fallbackToken) {\n          throw new Error(\"Login failed: no token returned\");\n        }\n      }\n\n      // call onLogin with token string (caller should set auth state / store token)\n      onLogin(token || r.access_token || r.data.access_token);\n    } catch (e) {\n      var _e$response, _e$response$data, _e$response2, _e$response2$data;\n      // derive a friendly error message\n      const msg = (e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || (e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message) || (e === null || e === void 0 ? void 0 : e.message) || \"Login failed\";\n      setErr(msg);\n    } finally {\n      setLoading(false);\n    }\n  }\n  function onKey(e) {\n    if (e.key === \"Enter\") doLogin();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-root\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-title\",\n        children: \"Balance Sheet Assistant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"login-sub\",\n        children: \"Sign in to continue \\u2014 Analyst / CEO accounts available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-error\",\n        role: \"alert\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"login-label\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"login-input\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"you@company.com\",\n        onKeyDown: onKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"login-label\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"login-input\",\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n        onKeyDown: onKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"login-btn\",\n        onClick: doLogin,\n        disabled: loading,\n        children: loading ? \"Signing in…\" : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [\"Use \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"analyst@example.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 22\n          }, this), \" / \", /*#__PURE__*/_jsxDEV(\"em\", {\n            children: \"analystpass\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 61\n          }, this), \" for demo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"Q903Pie70mXHr3MlgFZABFZczOE=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","login","jsxDEV","_jsxDEV","Login","onLogin","_s","email","setEmail","password","setPassword","err","setErr","loading","setLoading","doLogin","r","token","data","access_token","_r$data","fallbackToken","Error","e","_e$response","_e$response$data","_e$response2","_e$response2$data","msg","response","detail","message","onKey","key","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","value","onChange","target","placeholder","onKeyDown","type","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/sakina/balance-assistant/frontend/src/components/Login.jsx"],"sourcesContent":["// frontend/src/components/Login.jsx\nimport React, { useState } from \"react\";\nimport { login } from \"../api\";\nimport \"./Login.css\"; // make sure this file exists (below)\n\nexport default function Login({ onLogin }) {\n  const [email, setEmail] = useState(\"analyst@example.com\");\n  const [password, setPassword] = useState(\"analystpass\");\n  const [err, setErr] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  async function doLogin() {\n    setErr(null);\n    setLoading(true);\n    try {\n      // api.login may return axios response or plain object depending on your api implementation.\n      // We handle both forms gracefully.\n      const r = await login(email, password);\n      // try common shapes: r.data.access_token or r.access_token or r?.data?.access_token\n      const token =\n        (r && r.data && r.data.access_token) ||\n        (r && r.access_token) ||\n        (r && r.data && r.data.token) ||\n        null;\n\n      if (!token) {\n        // maybe the login helper returned the parsed object itself\n        const fallbackToken = r?.access_token || r?.data?.access_token || null;\n        if (!fallbackToken) {\n          throw new Error(\"Login failed: no token returned\");\n        }\n      }\n\n      // call onLogin with token string (caller should set auth state / store token)\n      onLogin(token || r.access_token || r.data.access_token);\n\n    } catch (e) {\n      // derive a friendly error message\n      const msg =\n        e?.response?.data?.detail ||\n        e?.response?.data?.message ||\n        e?.message ||\n        \"Login failed\";\n      setErr(msg);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function onKey(e) {\n    if (e.key === \"Enter\") doLogin();\n  }\n\n  return (\n    <div className=\"login-root\">\n      <div className=\"login-card\">\n        <div className=\"login-title\">Balance Sheet Assistant</div>\n\n        <p className=\"login-sub\">Sign in to continue — Analyst / CEO accounts available</p>\n\n        {err && <div className=\"login-error\" role=\"alert\">{err}</div>}\n\n        <label className=\"login-label\">Email</label>\n        <input\n          className=\"login-input\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"you@company.com\"\n          onKeyDown={onKey}\n        />\n\n        <label className=\"login-label\">Password</label>\n        <input\n          className=\"login-input\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"••••••••\"\n          onKeyDown={onKey}\n        />\n\n        <button\n          className=\"login-btn\"\n          onClick={doLogin}\n          disabled={loading}\n        >\n          {loading ? \"Signing in…\" : \"Login\"}\n        </button>\n\n        <div className=\"login-footer\">\n          <small>Use <strong>analyst@example.com</strong> / <em>analystpass</em> for demo</small>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}